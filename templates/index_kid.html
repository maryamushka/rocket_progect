<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>üöÄ –†–∞–∫–µ—Ç–∞, —Ç—ã –≥–¥–µ? ‚Äî –ö–æ—Å–º–∏—á–µ—Å–∫–æ–µ –ø—Ä–∏–∫–ª—é—á–µ–Ω–∏–µ –¥–ª—è –¥–µ—Ç–µ–π!</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='css/style.css') }}">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <link rel="icon" href="data:image/svg+xml,<svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 100 100%22><text y=%22.9em%22 font-size=%2290%22>üöÄ</text></svg>">
</head>
<body class="kid-mode">
    <!-- –ó–í–ï–ó–î–ù–´–ô –§–û–ù -->
    <div class="starfield"></div>

    <!-- –ü–†–û–§–ò–õ–¨ -->
    <div class="profile-button" onclick="showProfile()">
        <span class="profile-emoji avatar-emoji">üë®‚ÄçüöÄ</span>
        <div class="profile-info">
            <div class="profile-name">–ö–æ—Å–º–æ–Ω–∞–≤—Ç</div>
            <div class="profile-stars">
                <span class="star-emoji">‚≠ê</span>
                <span id="stars-count">{{ user_stars }}</span>
            </div>
        </div>
        <!-- –î–æ–±–∞–≤–∏—Ç—å —ç—Ç—É –∫–Ω–æ–ø–∫—É -->
        <button onclick="showAvatarSelector(); event.stopPropagation();"
                style="background: rgba(255,255,255,0.1); border: 1px solid #00ffff; color: #00ffff; border-radius: 50%; width: 30px; height: 30px; display: flex; align-items: center; justify-content: center; cursor: pointer; font-size: 0.8rem; margin-left: 10px;">
            ‚úèÔ∏è
        </button>
    </div>

    <!-- –ö–Ω–æ–ø–∫–∞ –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏—è –≤ –≤–∑—Ä–æ—Å–ª—ã–π —Ä–µ–∂–∏–º (—Å–ª–µ–≤–∞) -->
    <div class="adult-mode-toggle"
         onclick="window.location.href='/adult_mode'"
         title="–†–µ–∂–∏–º –¥–ª—è —Ä–æ–¥–∏—Ç–µ–ª–µ–π –∏ –≤–∑—Ä–æ—Å–ª—ã—Ö">
        <div class="adult-toggle-inner">
            <div class="adult-toggle-icon">üë®‚Äçüî¨</div>
            <div class="adult-toggle-text">
                <div>–†–µ–∂–∏–º</div>
                <div>–¥–ª—è –≤–∑—Ä–æ—Å–ª—ã—Ö</div>
            </div>
        </div>
    </div>

    <div class="container">
        <!-- –®–ê–ü–ö–ê -->
        <header class="header">
            <h1 class="main-title">üöÄ –†–ê–ö–ï–¢–ê, –¢–´ –ì–î–ï?</h1>
            <p class="subtitle">–ö–æ—Å–º–∏—á–µ—Å–∫–æ–µ –ø—Ä–∏–∫–ª—é—á–µ–Ω–∏–µ –¥–ª—è —é–Ω—ã—Ö –∏—Å—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª–µ–π! üåü</p>
            <p style="color: #aaa; font-size: 1.1rem; margin-top: 10px;">
                –ò–∑—É—á–∞–π, –∏–≥—Ä–∞–π, —Ä–∞—Å–∫—Ä–∞—à–∏–≤–∞–π –∏ —Å—Ç–∞–Ω–æ–≤–∏—Å—å –∫–æ—Å–º–∏—á–µ—Å–∫–∏–º —ç–∫—Å–ø–µ—Ä—Ç–æ–º!
            </p>
        </header>

        <!-- –ì–õ–ê–í–ù–ê–Ø –°–ï–ö–¶–ò–Ø –° –û–¢–°–ß–ï–¢–û–ú -->
        <!-- –¢–ê–ô–ú–ï–† –ó–ê–ü–£–°–ö–ê -->
        <section class="launch-hero">
            <div class="countdown-container">
                <div class="countdown-title">üöÄ –°–õ–ï–î–£–Æ–©–ò–ô –ó–ê–ü–£–°–ö –ß–ï–†–ï–ó:</div>

                <div class="countdown-display">
                    <div class="time-unit">
                        <div class="time-value" id="countdown-hours">02</div>
                        <div class="time-label">—á–∞—Å–æ–≤</div>
                    </div>
                    <div class="time-separator">:</div>
                    <div class="time-unit">
                        <div class="time-value" id="countdown-minutes">00</div>
                        <div class="time-label">–º–∏–Ω—É—Ç</div>
                    </div>
                    <div class="time-separator">:</div>
                    <div class="time-unit">
                        <div class="time-value" id="countdown-seconds">00</div>
                        <div class="time-label">—Å–µ–∫—É–Ω–¥</div>
                    </div>
                </div>

                <div class="launch-info">
                    <div class="rocket-icon">üöÄ</div>
                    <div class="mission-info">
                        <h3>–ú–∏—Å—Å–∏—è: Starship IFT-4</h3>
                        <p>SpaceX ‚Ä¢ –ò—Å–ø—ã—Ç–∞—Ç–µ–ª—å–Ω—ã–π –ø–æ–ª—ë—Ç ‚Ä¢ 15 –¥–µ–∫–∞–±—Ä—è</p>
                    </div>
                </div>

                <div class="progress-container-small">
                    <div class="progress-label">–î–æ –∑–∞–ø—É—Å–∫–∞:</div>
                    <div class="progress-bar-small">
                        <div class="progress-fill-small" id="launch-progress"></div>
                    </div>
                    <div class="progress-text-small" id="launch-progress-text">50%</div>
                </div>
            </div>
        </section>

        <!-- –ö–†–£–ü–ù–´–ï –ö–ù–û–ü–ö–ò –î–ï–ô–°–¢–í–ò–ô -->
        <section class="action-section">
            <h2 class="section-title">‚ú® –ß–ï–ú –ó–ê–ô–ú–ï–ú–°–Ø –°–ï–ô–ß–ê–°?</h2>
            <div class="action-buttons">
                <button class="mega-button play-btn" onclick="window.location.href='/games'">
                    <i class="fas fa-gamepad"></i> –ò–ì–†–´ –ò –†–ê–ó–í–õ–ï–ß–ï–ù–ò–Ø
                </button>
            </div>
        </section>

        <!-- –ò–ó–£–ß–ï–ù–ò–ï –†–ê–ö–ï–¢ -->
        <section class="rocket-lab">
            <h2 class="section-title">üî¨ –í–´–ë–ï–†–ò –ò –ò–ó–£–ß–ò –†–ê–ö–ï–¢–£</h2>

            <div style="text-align: center; margin-bottom: 30px; max-width: 800px; margin-left: auto; margin-right: auto;">
                <p style="font-size: 1.3rem; color: #ffff00; margin-bottom: 15px;">
                    üéØ –í–æ—Ç –∫–∞–∫ –∏–∑—É—á–∞—Ç—å —Ä–∞–∫–µ—Ç—ã:
                </p>
                <div style="display: flex; justify-content: center; gap: 30px; flex-wrap: wrap;">
                    <div style="text-align: center;">
                        <div style="font-size: 2.5rem;">1Ô∏è‚É£</div>
                        <div>–í—ã–±–µ—Ä–∏ —Ä–∞–∫–µ—Ç—É</div>
                    </div>
                    <div style="text-align: center;">
                        <div style="font-size: 2.5rem;">2Ô∏è‚É£</div>
                        <div>–ù–∞–∂–º–∏ –Ω–∞ –∫–Ω–æ–ø–∫—É<br>—Å –µ—ë —á–∞—Å—Ç—å—é</div>
                    </div>
                    <div style="text-align: center;">
                        <div style="font-size: 2.5rem;">3Ô∏è‚É£</div>
                        <div>–£–∑–Ω–∞–π –∏–Ω—Ç–µ—Ä–µ—Å–Ω—ã–µ<br>—Ñ–∞–∫—Ç—ã!</div>
                    </div>
                    <div style="text-align: center;">
                        <div style="font-size: 2.5rem;">4Ô∏è‚É£</div>
                        <div>–ü–æ–ª—É—á–∏ –∑–≤—ë–∑–¥—ã<br>–∑–∞ –∏–∑—É—á–µ–Ω–∏–µ!</div>
                    </div>
                </div>
            </div>

            <div class="rocket-selector">
                <button class="active" onclick="selectRocket('falcon9')">
                    <img src="{{ url_for('static', filename='images/rockets/falcon9.png') }}" width="50" height="50">
                    <div>
                        <div style="font-weight: bold;">Falcon 9</div>
                        <div style="font-size: 0.8rem; color: #aaa;">SpaceX</div>
                    </div>
                </button>
                <button onclick="selectRocket('starship')">
                    <img src="{{ url_for('static', filename='images/rockets/starship.png') }}" width="50" height="50">
                    <div>
                        <div style="font-weight: bold;">Starship</div>
                        <div style="font-size: 0.8rem; color: #aaa;">SpaceX</div>
                    </div>
                </button>
                <button onclick="selectRocket('sojuz')">
                    <img src="{{ url_for('static', filename='images/rockets/sojuz.png') }}" width="50" height="50">
                    <div>
                        <div style="font-weight: bold;">–°–æ—é–∑</div>
                        <div style="font-size: 0.8rem; color: #aaa;">–†–æ—Å–∫–æ—Å–º–æ—Å</div>
                    </div>
                </button>
            </div>

            <div class="rocket-display">
                <img id="rocket-image"
                     src="{{ url_for('static', filename='images/rockets/falcon9.png') }}"
                     alt="–†–∞–∫–µ—Ç–∞ –¥–ª—è –∏–∑—É—á–µ–Ω–∏—è"
                     class="detailed-rocket"
                     onclick="showRandomPart()">

                <div class="part-info" id="part-info">
                    <h3 style="color: #ffff00; text-align: center;">üëÜ –ù–ê–ñ–ú–ò –ù–ê –†–ê–ö–ï–¢–£!</h3>
                    <p style="text-align: center; font-size: 1.2rem;">
                        –ù–∞–∂–º–∏ –Ω–∞ –ª—é–±—É—é —á–∞—Å—Ç—å —Ä–∞–∫–µ—Ç—ã, —á—Ç–æ–±—ã —É–∑–Ω–∞—Ç—å –æ –Ω–µ–π!
                    </p>
                    <div style="display: flex; justify-content: center; gap: 15px; margin-top: 20px; flex-wrap: wrap;">
                        <button onclick="showPartInfo('engine')" class="part-btn">
                            <span class="part-emoji">üî•</span><br>–î–≤–∏–≥–∞—Ç–µ–ª—å
                        </button>
                        <button onclick="showPartInfo('tank')" class="part-btn">
                            <span class="part-emoji">‚õΩ</span><br>–ë–∞–∫–∏
                        </button>
                        <button onclick="showPartInfo('payload')" class="part-btn">
                            <span class="part-emoji">üõ∞Ô∏è</span><br>–ù–∞–≥—Ä—É–∑–∫–∞
                        </button>
                        <button onclick="showPartInfo('escape')" class="part-btn">
                            <span class="part-emoji">üÜò</span><br>–°–ø–∞—Å–µ–Ω–∏–µ
                        </button>
                    </div>
                </div>
            </div>
        </section>

        <!-- –†–ê–°–ö–†–ê–°–ö–ê –†–ê–ö–ï–¢ -->
        <section class="coloring-section" id="coloring-section">
            <h2 class="section-title">üé® –†–ê–°–ö–†–ê–°–¨ –°–í–û–Æ –†–ê–ö–ï–¢–£!</h2>

            <div class="coloring-controls">
                <div class="color-palette">
                    <div class="color" style="background: #ff0000;" onclick="selectColor('#ff0000')"></div>
                    <div class="color" style="background: #00ff00;" onclick="selectColor('#00ff00')"></div>
                    <div class="color" style="background: #0000ff;" onclick="selectColor('#0000ff')"></div>
                    <div class="color" style="background: #ffff00;" onclick="selectColor('#ffff00')"></div>
                    <div class="color" style="background: #ff00ff;" onclick="selectColor('#ff00ff')"></div>
                    <div class="color" style="background: #00ffff;" onclick="selectColor('#00ffff')"></div>
                    <div class="color" style="background: #ffffff;" onclick="selectColor('#ffffff')"></div>
                    <div class="color" style="background: #000000;" onclick="selectColor('#000000')"></div>
                </div>

                <button onclick="clearCanvas()" style="background: #ff4444; color: white; padding: 10px 20px; border-radius: 20px; border: none; cursor: pointer;">
                    üßπ –û—á–∏—Å—Ç–∏—Ç—å
                </button>
                <button onclick="saveColoring()" style="background: #44ff44; color: black; padding: 10px 20px; border-radius: 20px; border: none; cursor: pointer;">
                    üíæ –°–æ—Ö—Ä–∞–Ω–∏—Ç—å
                </button>
                <button onclick="hideColoring()" style="background: #aaaaaa; color: black; padding: 10px 20px; border-radius: 20px; border: none; cursor: pointer;">
                    ‚Üê –ù–∞–∑–∞–¥
                </button>
            </div>

            <canvas id="coloring-canvas" width="800" height="500" class="coloring-canvas">
                –í–∞—à –±—Ä–∞—É–∑–µ—Ä –Ω–µ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç Canvas
            </canvas>

            <p style="text-align: center; color: #aaa; margin-top: 20px;">
                üé® –í—ã–±–µ—Ä–∏ —Ü–≤–µ—Ç –∏ —Ä–∏—Å—É–π –ø—Ä—è–º–æ –Ω–∞ —Ä–∞–∫–µ—Ç–µ!<br>
                üíæ –°–æ—Ö—Ä–∞–Ω–∏ —Ä–∞—Å–∫—Ä–∞—Å–∫—É –Ω–∞ –∫–æ–º–ø—å—é—Ç–µ—Ä!
            </p>
        </section>

        <!-- –ò–ì–†–ê "–°–û–ë–ï–†–ò –†–ê–ö–ï–¢–£" -->
        <section class="build-game" id="build-game">
            <h2 class="section-title">üß© –°–û–ë–ï–†–ò –†–ê–ö–ï–¢–£ –ò–ó –ß–ê–°–¢–ï–ô!</h2>

            <p style="text-align: center; font-size: 1.2rem; margin: 20px 0;">
                –ü–µ—Ä–µ—Ç–∞—â–∏ –¥–µ—Ç–∞–ª–∏ –Ω–∞ –Ω—É–∂–Ω—ã–µ –º–µ—Å—Ç–∞ –≤ —Ä–∞–∫–µ—Ç–µ:
            </p>

            <div style="display: flex; justify-content: center; gap: 50px; margin: 40px 0; flex-wrap: wrap;">
                <!-- –î–ï–¢–ê–õ–ò -->
                <div>
                    <h3 style="color: #ffff00; margin-bottom: 20px;">üì¶ –î–µ—Ç–∞–ª–∏ —Ä–∞–∫–µ—Ç—ã:</h3>
                    <div class="parts-container">
                        <div class="part" data-part="engine">üî• –î–≤–∏–≥–∞—Ç–µ–ª—å</div>
                        <div class="part" data-part="tank">‚õΩ –¢–æ–ø–ª–∏–≤–Ω—ã–µ –±–∞–∫–∏</div>
                        <div class="part" data-part="payload">üõ∞Ô∏è –ü–æ–ª–µ–∑–Ω–∞—è –Ω–∞–≥—Ä—É–∑–∫–∞</div>
                        <div class="part" data-part="nose">üëÉ –û–±—Ç–µ–∫–∞—Ç–µ–ª—å</div>
                    </div>
                </div>

                <!-- –†–ê–ö–ï–¢–ê -->
                <div>
                    <h3 style="color: #00ffff; margin-bottom: 20px;">üöÄ –†–∞–∫–µ—Ç–∞:</h3>
                    <div class="rocket-silhouette">
                        <div class="slot" data-slot="nose" style="position: absolute; top: 50px; left: 75px; width: 50px; height: 50px; border: 2px dashed white;"></div>
                        <div class="slot" data-slot="payload" style="position: absolute; top: 120px; left: 75px; width: 50px; height: 80px; border: 2px dashed white;"></div>
                        <div class="slot" data-slot="tank" style="position: absolute; top: 220px; left: 75px; width: 50px; height: 100px; border: 2px dashed white;"></div>
                        <div class="slot" data-slot="engine" style="position: absolute; top: 340px; left: 75px; width: 50px; height: 60px; border: 2px dashed white;"></div>
                    </div>
                </div>
            </div>

            <div style="text-align: center; margin-top: 30px;">
                <button onclick="checkRocketBuild()" style="background: gold; color: black; padding: 15px 30px; border-radius: 25px; border: none; font-size: 1.2rem; cursor: pointer; margin: 0 10px;">
                    ‚úÖ –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Å–±–æ—Ä–∫—É
                </button>
                <button onclick="hideBuildGame()" style="background: #666; color: white; padding: 15px 30px; border-radius: 25px; border: none; font-size: 1.2rem; cursor: pointer; margin: 0 10px;">
                    ‚Üê –ù–∞–∑–∞–¥ –∫ –∏–≥—Ä–∞–º
                </button>
            </div>

            <p style="text-align: center; color: #aaa; margin-top: 30px;">
                üéØ –ó–∞–¥–∞–Ω–∏–µ: –ø–æ—Å—Ç–∞–≤—å –∫–∞–∂–¥—É—é –¥–µ—Ç–∞–ª—å –Ω–∞ —Å–≤–æ—ë –º–µ—Å—Ç–æ!<br>
                ‚≠ê –ó–∞ –ø—Ä–∞–≤–∏–ª—å–Ω—É—é —Å–±–æ—Ä–∫—É –ø–æ–ª—É—á–∏—à—å –∑–≤—ë–∑–¥—ã!
            </p>
        </section>

        <!-- –ë–õ–ò–ñ–ê–ô–®–ò–ï –ú–ò–°–°–ò–ò -->
        <section class="missions-section">
            <h2 class="section-title">üõ∞Ô∏è –ö–û–°–ú–ò–ß–ï–°–ö–ò–ï –ú–ò–°–°–ò–ò</h2>

            <p style="text-align: center; color: #aaa; font-size: 1.2rem; margin: 20px 0 30px;">
                –ò–∑—É—á–∞–π –º–∏—Å—Å–∏–∏, –ø–æ–ª—É—á–∞–π –∑–≤—ë–∑–¥—ã –∏ —Å—Ç–∞–Ω–æ–≤–∏—Å—å –∫–æ—Å–º–∏—á–µ—Å–∫–∏–º —ç–∫—Å–ø–µ—Ä—Ç–æ–º!
            </p>

            <div class="mission-filters">
                <button class="filter-btn active" onclick="filterMissions('all')">–í—Å–µ –º–∏—Å—Å–∏–∏ (12)</button>
                <button class="filter-btn" onclick="filterMissions('upcoming')">–ü—Ä–µ–¥—Å—Ç–æ—è—â–∏–µ</button>
                <button class="filter-btn" onclick="filterMissions('completed')">–ó–∞–≤–µ—Ä—à—ë–Ω–Ω—ã–µ</button>
                <button class="filter-btn" onclick="filterMissions('spacex')">SpaceX</button>
                <button class="filter-btn" onclick="filterMissions('roscosmos')">–†–æ—Å–∫–æ—Å–º–æ—Å</button>
                <button class="filter-btn" onclick="filterMissions('nasa')">NASA</button>

                <div class="search-container">
                    <input type="text" class="mission-search" id="mission-search"
                           placeholder="üîç –ü–æ–∏—Å–∫ –º–∏—Å—Å–∏–∏..." onkeyup="searchMissions()">
                    <button class="clear-search" onclick="clearSearch()">‚úï</button>
                </div>
            </div>

            <div class="mission-cards" id="mission-cards">
                {% for mission in all_missions %}
                <div class="mission-card"
                     onclick="showMissionDetail({{ mission.id }})"
                     data-status="{{ mission.status }}"
                     data-company="{{ mission.company|lower }}"
                     data-name="{{ mission.name|lower }}"
                     data-id="{{ mission.id }}">

                    <!-- –ë–µ–π–¥–∂ "–ù–æ–≤–æ–µ" –¥–ª—è –ø–æ—Å–ª–µ–¥–Ω–∏—Ö –º–∏—Å—Å–∏–π -->
                    {% if loop.index <= 3 %}
                    <div class="new-badge" style="animation-delay: {{ loop.index * 0.2 }}s">
                        ‚ú® –ù–æ–≤–æ–µ!
                    </div>
                    {% endif %}

                    <!-- –ó–≤—ë–∑–¥—ã –∑–∞ –º–∏—Å—Å–∏—é -->
                    <div class="mission-stars">
                        {% if mission.difficulty == '–ø—Ä–æ—Å—Ç–æ–π' %}
                        +1
                        {% elif mission.difficulty == '—Å—Ä–µ–¥–Ω–∏–π' %}
                        +2
                        {% else %}
                        +3
                        {% endif %}
                    </div>

                    <!-- –≠–º–æ–¥–∑–∏ –º–∏—Å—Å–∏–∏ -->
                    <div class="mission-emoji">{{ mission.emoji or 'üöÄ' }}</div>

                    <!-- –ù–∞–∑–≤–∞–Ω–∏–µ –º–∏—Å—Å–∏–∏ -->
                    <h3 class="mission-name">{{ mission.name }}</h3>

                    <!-- –î–∞—Ç–∞ –∏ —Å—Ç–∞—Ç—É—Å -->
                    <div class="mission-date-container">
                        <div class="mission-date">üìÖ {{ mission.date }} {{ mission.time or '' }}</div>
                        <div class="status-badge {{ mission.status }}">
                            {{ mission.status }}
                        </div>
                    </div>

                    <!-- –ö–ê–†–£–°–ï–õ–¨ –§–ê–ö–¢–û–í (–Ω–æ–≤–æ–µ!) -->
                    <div class="mission-fact-carousel" id="facts-carousel-{{ mission.id }}">
                        {% if mission.kid_facts and mission.kid_facts|length > 0 %}
                            {% for fact in mission.kid_facts[:3] %}
                            <div class="fact-item {% if loop.first %}active{% endif %}"
                                 data-index="{{ loop.index0 }}">
                                {{ fact }}
                            </div>
                            {% endfor %}
                        {% else %}
                            <!-- –ï—Å–ª–∏ —Ñ–∞–∫—Ç–æ–≤ –Ω–µ—Ç, –ø–æ–∫–∞–∑—ã–≤–∞–µ–º –æ—Å–Ω–æ–≤–Ω–æ–π —Ñ–∞–∫—Ç -->
                            <div class="fact-item active">
                                {{ mission.fun_fact }}
                            </div>
                        {% endif %}
                    </div>

                    <!-- –ù–∞–≤–∏–≥–∞—Ü–∏—è –¥–ª—è —Ñ–∞–∫—Ç–æ–≤ -->
                    {% if mission.kid_facts and mission.kid_facts|length > 1 %}
                    <div class="fact-dots">
                        {% for i in range([mission.kid_facts|length, 3]|min) %}
                        <div class="fact-dot {% if loop.first %}active{% endif %}"
                             onclick="showFactInCard({{ mission.id }}, {{ loop.index0 }}); event.stopPropagation();">
                        </div>
                        {% endfor %}
                    </div>
                    {% endif %}

                    <!-- –ò–Ω–¥–∏–∫–∞—Ç–æ—Ä —Å–ª–æ–∂–Ω–æ—Å—Ç–∏ -->
                    <div class="difficulty-indicator">
                        {% set difficulty_level = {'–ø—Ä–æ—Å—Ç–æ–π': 1, '—Å—Ä–µ–¥–Ω–∏–π': 2, '—Å–ª–æ–∂–Ω—ã–π': 3} %}
                        {% set level = difficulty_level.get(mission.difficulty, 2) %}
                        {% for i in range(3) %}
                        <div class="difficulty-dot {{ 'active' if i < level else '' }}"></div>
                        {% endfor %}
                        <span style="color: #aaa; font-size: 0.9rem; margin-left: 10px;">
                            {{ mission.difficulty or '—Å—Ä–µ–¥–Ω–∏–π' }}
                        </span>
                    </div>

                    <!-- –ò–Ω—Ñ–æ-–±–∞—Ä -->
                    <div class="mission-footer">
                        <div class="rocket-badge">
                            <i class="fas fa-rocket"></i>
                            {{ mission.rocket }}
                        </div>
                        <div class="company-badge">
                            üè¢ {{ mission.company }}
                        </div>
                    </div>

                </div>
                {% endfor %}
            </div>
        </section>

        <!-- –§–£–¢–ï–† -->
        <footer class="footer">
            <button class="mode-switch" onclick="showParentStats()">
                <i class="fas fa-user-astronaut"></i> –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –¥–ª—è —Ä–æ–¥–∏—Ç–µ–ª–µ–π
            </button>
            <p class="copyright">
                üöÄ –ü—Ä–æ–µ–∫—Ç "–†–∞–∫–µ—Ç–∞, —Ç—ã –≥–¥–µ?" ‚Ä¢ –î–ª—è –¥–µ—Ç–µ–π –æ—Ç 6 –ª–µ—Ç<br>
                ‚ú® –ò–∑—É—á–∞–π –∫–æ—Å–º–æ—Å –≤–µ—Å–µ–ª–æ –∏ –±–µ–∑–æ–ø–∞—Å–Ω–æ!<br>
                üìß –ü–æ –≤–æ–ø—Ä–æ—Å–∞–º: rocket@example.com
            </p>
        </footer>
    </div>

    <!-- –ú–û–î–ê–õ–¨–ù–û–ï –û–ö–ù–û –î–õ–Ø –ú–ò–°–°–ò–ô -->
    <div id="mission-modal" class="modal-overlay">
        <div class="modal-content">
            <!-- –ö–æ–Ω—Ç–µ–Ω—Ç –ø–æ–¥–≥—Ä—É–∂–∞–µ—Ç—Å—è —á–µ—Ä–µ–∑ JavaScript -->
        </div>
    </div>

    <script src="{{ url_for('static', filename='js/script.js') }}"></script>

    <!-- –ú–û–î–ê–õ–¨–ù–û–ï –û–ö–ù–û –ü–†–û–§–ò–õ–Ø -->
    <div id="profile-modal" class="modal-overlay">
        <div class="modal-content profile-modal">
            <button class="close-modal" onclick="closeProfile()">&times;</button>

            <div class="profile-header">
                <div class="profile-avatar">
                    <div class="avatar-circle">
                        <span class="avatar-emoji" style="font-size: 4rem;">üöÄ</span>
                    </div>
                </div>
                <div class="profile-title">
                    <h2 id="profile-display-name">üë§ –ú–û–ô –ö–û–°–ú–ò–ß–ï–°–ö–ò–ô –ü–†–û–§–ò–õ–¨</h2>
                    <div class="profile-level">–£—Ä–æ–≤–µ–Ω—å: <span id="profile-level">1</span></div>
                    <button onclick="showAvatarSelector()"
                            style="margin-top: 10px; background: rgba(255,255,255,0.1); border: 2px solid #ff00ff; color: white; padding: 8px 15px; border-radius: 15px; cursor: pointer; display: flex; align-items: center; gap: 8px; font-size: 0.9rem;">
                        ‚úèÔ∏è –ò–∑–º–µ–Ω–∏—Ç—å –∞–≤–∞—Ç–∞—Ä –∏ –∏–º—è
                    </button>
                </div>
            </div>

            <div class="stats-grid">
                <div class="stat-card">
                    <div class="stat-icon">‚≠ê</div>
                    <div class="stat-title">–í—Å–µ–≥–æ –∑–≤—ë–∑–¥</div>
                    <div class="stat-value" id="total-stars">0</div>
                </div>
                <div class="stat-card">
                    <div class="stat-icon">üéÆ</div>
                    <div class="stat-title">–ò–≥—Ä —Å—ã–≥—Ä–∞–Ω–æ</div>
                    <div class="stat-value" id="games-played">0</div>
                </div>
                <div class="stat-card">
                    <div class="stat-icon">üìö</div>
                    <div class="stat-title">–†–∞–∫–µ—Ç –∏–∑—É—á–µ–Ω–æ</div>
                    <div class="stat-value" id="rockets-studied">0</div>
                </div>
                <div class="stat-card">
                    <div class="stat-icon">üé®</div>
                    <div class="stat-title">–†–∞—Å–∫—Ä–∞—Å–æ–∫</div>
                    <div class="stat-value" id="colorings-done">0</div>
                </div>
            </div>

            <div class="badges-section">
                <h3>üèÜ –ú–û–ò –î–û–°–¢–ò–ñ–ï–ù–ò–Ø</h3>
                <div class="badges-container" id="badges-container">
                    <!-- –ë–µ–π–¥–∂–∏ –±—É–¥—É—Ç –∑–∞–≥—Ä—É–∂–µ–Ω—ã —á–µ—Ä–µ–∑ JavaScript -->
                </div>
            </div>

            <div class="progress-section">
                <h3>üìä –ü–†–û–ì–†–ï–°–° –î–û –°–õ–ï–î–£–Æ–©–ï–ì–û –£–†–û–í–ù–Ø</h3>
                <div class="progress-bar">
                    <div class="progress-fill" id="level-progress"></div>
                </div>
                <div class="progress-text">
                    <span id="current-exp">0</span> –∏–∑ <span id="next-level-exp">100</span> –∑–≤—ë–∑–¥
                </div>
            </div>

            <div class="recent-activity">
                <h3>üïê –ü–û–°–õ–ï–î–ù–ò–ï –î–û–°–¢–ò–ñ–ï–ù–ò–Ø</h3>
                <div class="activity-list" id="activity-list">
                    <!-- –ê–∫—Ç–∏–≤–Ω–æ—Å—Ç—å –±—É–¥–µ—Ç –∑–∞–≥—Ä—É–∂–µ–Ω–∞ —á–µ—Ä–µ–∑ JavaScript -->
                </div>
            </div>

            <div class="profile-actions">
                <button class="action-btn share-btn" onclick="shareProfile()">
                    <i class="fas fa-share-alt"></i> –ü–æ–¥–µ–ª–∏—Ç—å—Å—è
                </button>
                <button class="action-btn shop-btn" onclick="showStarShop()">
                    <i class="fas fa-store"></i> –ú–∞–≥–∞–∑–∏–Ω –∑–≤—ë–∑–¥
                </button>
            </div>
        </div>
    </div>

    <script>
        // –§–∏–ª—å—Ç—Ä–∞—Ü–∏—è –º–∏—Å—Å–∏–π
        function filterMissions(filter) {
            // –û–±–Ω–æ–≤–ª—è–µ–º –∞–∫—Ç–∏–≤–Ω—É—é –∫–Ω–æ–ø–∫—É
            document.querySelectorAll('.filter-btn').forEach(btn => {
                btn.classList.remove('active');
            });
            event.target.classList.add('active');

            const cards = document.querySelectorAll('.mission-card');
            cards.forEach(card => {
                const status = card.dataset.status;
                const company = card.dataset.company;
                let show = false;

                switch(filter) {
                    case 'all':
                        show = true;
                        break;
                    case 'upcoming':
                        show = status === '–ø—Ä–µ–¥—Å—Ç–æ—è—â–∏–π';
                        break;
                    case 'completed':
                        show = status === '–∑–∞–≤–µ—Ä—à—ë–Ω';
                        break;
                    case 'spacex':
                        show = company.includes('spacex');
                        break;
                    case 'roscosmos':
                        show = company.includes('—Ä–æ—Å–∫–æ—Å–º–æ—Å');
                        break;
                    case 'nasa':
                        show = company.includes('nasa');
                        break;
                    default:
                        show = true;
                }

                card.style.display = show ? 'block' : 'none';
            });
        }

        // –ü–æ–∏—Å–∫ –º–∏—Å—Å–∏–π
        function searchMissions() {
            const searchTerm = document.getElementById('mission-search').value.toLowerCase();
            const cards = document.querySelectorAll('.mission-card');

            cards.forEach(card => {
                const missionName = card.dataset.name;
                if (missionName.includes(searchTerm) || searchTerm === '') {
                    card.style.display = 'block';
                } else {
                    card.style.display = 'none';
                }
            });
        }

        function clearSearch() {
            document.getElementById('mission-search').value = '';
            searchMissions();
        }

        // –ö–û–†–†–ï–ö–¢–ù–û–ï –ü–ï–†–ï–ù–ê–ü–†–ê–í–õ–ï–ù–ò–ï –ù–ê –°–¢–†–ê–ù–ò–¶–£ –ú–ò–°–°–ò–ò
        function redirectToMission(missionId, event) {
            // –û—Ç–º–µ–Ω—è–µ–º –≤—Å–ø–ª—ã—Ç–∏–µ —Å–æ–±—ã—Ç–∏—è, –µ—Å–ª–∏ –Ω—É–∂–Ω–æ
            if (event) {
                event.stopPropagation();
            }

            // –ü—Ä–æ—Å—Ç–æ–µ –ø–µ—Ä–µ–Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–µ
            window.location.href = `/mission/${missionId}`;
        }
    </script>

</body>
</html>